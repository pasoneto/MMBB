<!DOCTYPE html>
 <html>
   <head>
<meta charset="utfâ€8">
<title> Hello web audio </title> </head>
<body>
  <button onclick="playSound()">Start beat</button>
</body>
   <script>

    function loadSound(url) {
      var request = new XMLHttpRequest();
      request.open('GET', url, true);
      request.responseType = 'arraybuffer';

      // Decode asynchronously
      request.onload = function() {
        context.decodeAudioData(request.response, function(buffer) {
          drum = buffer;
        }, onError);
      }
      request.send();
    }

    function playSound() {
      var context = new AudioContext();
      var source = context.createBufferSource(); // creates a sound source
      source.buffer = loadSound('./beat.wav');                    // tell the source which sound to play
      source.connect(context.destination);       // connect the source to the context's destination (the speakers)
      source.start(0);                           // play the source now
                                                 // note: on older systems, may have to use deprecated noteOn(time);
    }


   </script>
</html>
